<div ng-cloak>
    <md-content>
        <md-toolbar>
            <div class="md-toolbar-tools">

                <md-button ng-repeat="item in items" ng-show="!item.auth || isLoggedIn()" aria-label="{{item.label}}" ui-sref-active="active" ui-sref="{{ item.state }}" hide-xs hide-sm>
                    <i class="material-icons">{{item.icon}}</i>
                    {{ item.label }}
                </md-button>
                <md-button id="menuBtn" ng-click="openSidenav()" hide-gt-sm>
                    <i class="material-icons">menu</i>
                </md-button>

                <span flex></span>

                <md-button aria-label="Signup" ng-show="!user" ui-sref="signup">
                    Signup
                </md-button>
                <md-button aria-label="Login" ng-show="!user" ui-sref="login">
                    Login
                </md-button>

                  <md-button ng-show="user" ui-sref="notifications" ng-show="notifications.length">
                      <i class="material-icons">priority_high</i>
                    {{notifications.length}}
                  </md-button>
                <md-menu ng-show="user">
                    <md-button aria-label="Open user interactions menu" ng-click="openMenu($mdOpenMenu, $event)">
                        <i class="material-icons" >account_box</i>
                        {{user.username}}
                    </md-button>
                    <md-menu-content width="4">
                        <md-menu-item>
                            <md-button ui-sref="userProfile">
                                <i class="material-icons">account_circle</i>
                                Profile page
                            </md-button>
                        </md-menu-item>
                        <md-menu-divider></md-menu-divider>
                        <md-menu-item>
                            <md-button ng-click="logout()">
                                <i class="material-icons">close</i>
                                Logout
                            </md-button>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
            </div>
        </md-toolbar>
    </md-content>
</div>

<md-sidenav id="sidenav"
  class="md-sidenav-left"
  md-component-id="left"
  md-whiteframe="0">
    <md-toolbar class="md-theme-indigo">
        <h1 class="md-toolbar-tools">Menu</h1>
    </md-toolbar>
    <md-content>
        <md-list>
            <md-list-item ng-repeat="item in items" ui-sref-active="active" ui-sref="{{ item.state }}" ng-show="!item.auth || isLoggedIn()" aria-label="{{item.label}}" class="md-list-item-text" layout="row">
                <i class="material-icons">{{item.icon}}</i>
                <span>{{ item.label }}</span>
            </md-list-item>
        </md-list>
    </md-content>
</md-sidenav>
